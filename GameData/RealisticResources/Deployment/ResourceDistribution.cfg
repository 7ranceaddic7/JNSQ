// Classify planets
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockMetal]]
{
	@PlanetName = Moho
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockMetal]]
{
	@PlanetName = Gilly
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmDefault]]
{
	@PlanetName = Eve
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRock]]
{
	@PlanetName = Kerbin
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmTerra]]
{
	@PlanetName = Kerbin
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[OcnTerra]]
{
	@PlanetName = Kerbin
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmDefault]]
{
	@PlanetName = Duna
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockIce]]
{
	@PlanetName = Ike
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockIce]]
{
	@PlanetName = Edna
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockIce]]
{
	@PlanetName = Dak
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockIce]]
{
	@PlanetName = Dres
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmGasJovian]]
{
	@PlanetName = Jool
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfRockIce]]
{
	@PlanetName = Laythe
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmTerra]]
{
	@PlanetName = Laythe
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[OcnTerra]]
{
	@PlanetName = Laythe
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceWater]]
{
	@PlanetName = Vall
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceWater]]
{
	@PlanetName = Tylo
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmIceNitrogen]]
{
	@PlanetName = Tylo
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceWater]]
{
	@PlanetName = Bop
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceWater]]
{
	@PlanetName = Pol
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmGasUranian]]
{
	@PlanetName = Lindor
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Krel
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Aden
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Riga
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmIceNitrogen]]
{
	@PlanetName = Riga
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Talos
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Eeloo
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmIceMethane]]
{
	@PlanetName = Eeloo
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Celes
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Tam
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceMethane]]
{
	@PlanetName = Hamek
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceNitrogen]]
{
	@PlanetName = Nara
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[AtmIceNitrogen]]
{
	@PlanetName = Nara
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceNitrogen]]
{
	@PlanetName = Amos
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceNitrogen]]
{
	@PlanetName = Enon
	@Tag = Applied
}
+PLANETARY_RESOURCE:HAS[#Tag[SrfIceNitrogen]]
{
	@PlanetName = Prax
	@Tag = Applied
}

// Purge biomes
+BIOME_RESOURCE:HAS[#Tag[Nuke]]
{
	@PlanetName = Kerbin
	@BiomeName = IceCaps
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]
{
	@PlanetName = Mun
	@BiomeName = ExoticCraters
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]
{
	@PlanetName = Duna
	@BiomeName = IceCaps
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]
{
	@PlanetName = Laythe
	@BiomeName = IceCaps
	@Tag = Applied
}

// Fill biomes
@BIOME_RESOURCE:HAS[#PlanetName[Kerbin],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 90
		@MaxAbundance = 100
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[ExoticCraters],#ResourceName[ExoticMinerals],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 15
		@MaxAbundance = 20
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[ExoticCraters],#ResourceName[RareMetals],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 55
		@MaxAbundance = 60
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[ExoticCraters],#ResourceName[Substrate],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 9
		@MaxAbundance = 12
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[ExoticCraters],#ResourceName[Gypsum],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 8
		@MaxAbundance = 8
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[CarbonDioxide],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 85
		@MaxAbundance = 90
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[Metalore],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 3
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 1
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Laythe],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 90
		@MaxAbundance = 100
	}
}

// Purge source nodes
!PLANETARY_RESOURCE:HAS[#PlanetName[None]]:FINAL {}
!BIOME_RESOURCE:HAS[#Tag[Nuke]]:FINAL {}